# ============================================================
# Aegis NGFW Agent Configuration v2.0
# Copy to /opt/aegis/.env and update values
# ============================================================

# PostgREST API URL (required)
# Points to the local Nginx reverse proxy → PostgREST
API_URL=http://localhost:8080/api

# Agent secret key (optional, for extra auth layer)
# Generate with: openssl rand -hex 32
AGENT_SECRET_KEY=

# Intervals (seconds)
SYNC_INTERVAL=60
METRICS_INTERVAL=30

# Firewall backend: ipt (iptables) or nft (nftables, recommended)
FIREWALL_BACKEND=nft

# Hostname identifier (shown in dashboard)
HOSTNAME_ID=AEGIS-NGFW-500

# Interface mapping: DB name → Linux device name
# Adjust to match your server's network interfaces
# Use: ip link show   to see available interfaces
IFACE_WAN=eth0
IFACE_LAN=eth1
IFACE_DMZ=eth2
IFACE_GUEST=eth3
IFACE_WAN2=eth4

# DHCP backend: dnsmasq (recommended) or isc-dhcp
DHCP_BACKEND=dnsmasq

# DNS backend: dnsmasq (recommended, shared with DHCP) or bind9
DNS_BACKEND=dnsmasq

# dnsmasq config directory (for DHCP + DNS)
DNSMASQ_CONF_DIR=/etc/dnsmasq.d

# Agent directory
AEGIS_DIR=/opt/aegis

# Dry run mode (true = generate configs without applying)
DRY_RUN=false
